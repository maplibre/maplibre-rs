<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Render Test Results</title>
    <style>
      body {
        font: 18px/1.2 -apple-system, BlinkMacSystemFont, 'Helvetica Neue',
          Helvetica, Arial, sans-serif;
        padding: 10px;
      }
      h1 {
        font-size: 32px;
        margin-bottom: 0;
      }
      button {
        vertical-align: middle;
      }
      h2 {
        font-size: 24px;
        font-weight: normal;
        margin: 10px 0 10px;
        line-height: 1;
      }
      img {
        margin: 0 10px 10px 0;
        border: 1px dotted #ccc;
        max-width: 100%;
      }

      .imagewrap {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
      }
      .stats {
        margin-top: 10px;
      }
      .test {
        border-bottom: 1px dotted #bbb;
        padding-bottom: 5px;
      }
      .tests {
        border-top: 1px dotted #bbb;
        margin-top: 10px;
      }
      .diff {
        color: #777;
      }
      .test p,
      .test pre {
        margin: 0 0 10px;
      }
      .test pre {
        font-size: 14px;
      }
      .label {
        color: white;
        font-size: 18px;
        padding: 2px 6px 3px;
        border-radius: 3px;
        margin-right: 3px;
        vertical-align: bottom;
        display: inline-block;
      }
      .hide {
        display: none;
      }
    </style>
  </head>

  <body>
    <p class="stats">0 passed / 1 failed / 0 errored out of 1 total</p>
<h2>Click on an image to toggle between expected and actual</h2>
The initial image is the actual one
<div class="tests failed">
  <h1 style="color: red">Failed Tests (1)</h1>
  <button id="toggle-failed">Click to toggle category visibility</button>
  <div class="test">
  <h2>custom/tent-3d-globe-zoomed</h2>
  <div class="imagewrap">
    <div><p>Actual</p><img src="../tests/custom/tent-3d-globe-zoomed/actual.png" data-alt-src="../tests/custom/tent-3d-globe-zoomed/expected.png"></div>
    <div><p>Expected</p><img src="../tests/custom/tent-3d-globe-zoomed/expected.png"></div>
    <div class="diff"><p>Diff</p><img src="../tests/custom/tent-3d-globe-zoomed/diff.png"></div>
  </div>
  <p>FAIL (diff=0.0733)</p>
</div>
</div>

<div class="tests errored">
  <h1 style="color: black">Errored Tests (0)</h1>
  <button id="toggle-errored">Click to toggle category visibility</button>
  
</div>

<script>
  document.addEventListener('click', handleClick);

  function handleClick(e) {
      const el = e.target;
      if (el.tagName !== 'IMG' || !el.dataset.altSrc) {
          return;
      }
      // swap between alt-src and src - both are defined in the render test report generation
      const tmp = el.src;
      el.src = el.dataset.altSrc;
      el.dataset.altSrc = tmp;
  }

  document.getElementById('toggle-failed').addEventListener('click', () => {
      for (const row of document.querySelectorAll('.tests.failed .test')) {
          row.classList.toggle('hide');
      }
  });
  document.getElementById('toggle-errored').addEventListener('click', () => {
      for (const row of document.querySelectorAll('.tests.errored .test.')) {
          row.classList.toggle('hide');
      }
  });
</script>

  </body>
</html>
