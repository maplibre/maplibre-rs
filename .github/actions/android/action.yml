name: android
description: Build for android

runs:
  using: "composite"
  steps:
    - uses: extractions/setup-just@v1
    - name: Install nightly toolchain
      shell: bash
      run: just nightly-toolchain
    - uses: Swatinem/rust-cache@v1
      with:
        toolchain: nightly
    - name: Build
      shell: bash
      run: just build-apk
    - uses: actions/upload-artifact@v2
      with:
        name: maplibre-rs.apk
        path: target/debug/apk/maplibre-rs-demo.apk
